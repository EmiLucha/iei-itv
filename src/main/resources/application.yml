spring:
  application:
    name: itv-integration-service

  # Configuración de Supabase (PostgreSQL)
  datasource:
    url: jdbc:postgresql://aws-1-eu-north-1.pooler.supabase.com:5432/postgres
    username: postgres.klsrczotmlszcaroffbh
    password: $#WH33waZPaCiX+
    driver-class-name: org.postgresql.Driver

  # Configuración JPA
  jpa:
    hibernate:
      ddl-auto: validate  # No crear tablas automáticamente, usar las existentes
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        default_schema: public

  # Jackson para JSON
  jackson:
    default-property-inclusion: non_null
    deserialization:
      fail-on-unknown-properties: false

# Logging
logging:
  level:
    root: INFO
    com.elucesc.itvintegration: DEBUG
    org.hibernate.SQL: INFO
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

## Configuración de archivos con nuevos formatos
#integration:
#  files:
#    cv: classpath:data/estaciones_cv.json    # Comunidad Valenciana - JSON
#    gal: classpath:data/estaciones_gal.csv   # Galicia - CSV
#    cat: classpath:data/estaciones_cat.xml   # Cataluña - XML

# Configuración de archivos demo
integration:
  files:
    cv: classpath:demo/estaciones_cv_demo.json    # Comunidad Valenciana - JSON
    gal: classpath:demo/estaciones_gal_demo.csv   # Galicia - CSV
    cat: classpath:demo/estaciones_cat_demo.xml   # Cataluña - XML

# OpenCage Geocoding API Configuration (2500 peticiones/día gratis)
opencage:
  api:
    key: c84b93d603204903882eb168ad5cfbb7